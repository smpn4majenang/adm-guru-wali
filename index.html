<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sistem Administrasi Guru Wali Digital</title>
    
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@300;400;500;600;700&display=swap" rel="stylesheet">

    <script>
        tailwind.config = {
            theme: {
                extend: {
                    fontFamily: { sans: ['"Plus Jakarta Sans"', 'sans-serif'] },
                    colors: {
                        navy: { 900: '#1e293b', 800: '#334155', DEFAULT: '#1a2233' },
                        brand: { blue: '#2563eb', light: '#f1f5f9' }
                    }
                }
            }
        }
    </script>

    <style>
        .custom-scrollbar::-webkit-scrollbar { width: 4px; }
        .custom-scrollbar::-webkit-scrollbar-thumb { background: #cbd5e1; border-radius: 10px; }
        .nav-item-active { background-color: #2563eb !important; color: white !important; border-radius: 8px; }
        
        /* Form Styling to match Template */
        .form-label { font-size: 0.8rem; font-weight: 600; color: #334155; margin-bottom: 0.5rem; display: block; }
        .form-input-custom { border: 1px solid #e2e8f0; border-radius: 6px; padding: 0.75rem 1rem; transition: all 0.2s; width: 100%; background-color: #fff; font-size: 0.9rem; color: #1e293b; }
        .form-input-custom:focus { outline: none; border-color: #2563eb; ring: 1px; ring-color: #2563eb; }
        .form-input-readonly { background-color: #f8fafc; cursor: not-allowed; color: #64748b; border-color: #f1f5f9; }
        
        .section-title { font-size: 1rem; font-weight: 800; color: #1e293b; margin-top: 2.5rem; margin-bottom: 1.5rem; text-transform: uppercase; letter-spacing: 0.05em; border-bottom: 2px solid #2563eb; padding-bottom: 0.5rem; display: inline-block; }
        
        .action-btn { width: 48px; height: 48px; border-radius: 50%; display: flex; align-items: center; justify-content: center; color: white; transition: all 0.2s; box-shadow: 0 4px 6px -1px rgb(0 0 0 / 0.1); }
        .action-btn:hover { transform: translateY(-2px); box-shadow: 0 10px 15px -3px rgb(0 0 0 / 0.1); }

        table th { background-color: #f8fafc; text-align: left; padding: 0.75rem; font-size: 0.8rem; font-weight: 700; border: 1px solid #e2e8f0; }
        table td { padding: 0.75rem; border: 1px solid #e2e8f0; vertical-align: top; }

        .form-row { display: flex; flex-direction: column; margin-bottom: 1.5rem; }

        @media print { .no-print { display: none !important; } .print-area { box-shadow: none !important; border: none !important; margin: 0 !important; width: 100% !important; padding: 0 !important; } }
    </style>
</head>
<body class="bg-slate-50 text-slate-900 font-sans h-screen flex overflow-hidden">

    <!-- SIDEBAR -->
    <aside id="sidebar" class="bg-[#1e293b] text-slate-300 w-64 flex-shrink-0 flex flex-col z-50 transform -translate-x-full md:translate-x-0 transition-transform duration-300 no-print">
        <div class="p-6 text-white font-bold text-center border-b border-slate-700/50">
            <div class="text-[14px] leading-tight tracking-widest uppercase">ADMINISTrasi GURU WALI</div>
        </div>
        <nav id="navLinks" class="flex-1 px-4 py-6 space-y-1 overflow-y-auto custom-scrollbar"></nav>
        <div class="p-4 border-t border-slate-700/50 text-center">
            <button onclick="app.logout()" class="text-xs text-slate-500 hover:text-white transition-colors">Keluar Aplikasi</button>
        </div>
    </aside>

    <!-- CONTENT -->
    <main class="flex-1 flex flex-col min-w-0 h-screen overflow-hidden">
        <div id="contentArea" class="flex-1 overflow-y-auto p-4 md:p-8 custom-scrollbar">
            <!-- App content injected here -->
        </div>
    </main>

    <!-- FLOATING ACTIONS -->
    <div class="fixed bottom-8 right-8 flex flex-col gap-3 no-print">
        <button type="submit" form="mainForm" class="action-btn bg-purple-600" title="Simpan Data"><i class="fas fa-save"></i></button>
        <button onclick="window.print()" class="action-btn bg-blue-500" title="Cetak Data"><i class="fas fa-print"></i></button>
    </div>

    <script>
        const API_URL = ""; 
        
        const CONFIG = {
            MENUS: [
                { id: 'profil-murid', label: 'Profil Murid', icon: 'fa-user-graduate' },
                { id: 'jurnal', label: 'Jurnal Pertemuan', icon: 'fa-book' },
                { id: 'laporan', label: 'Laporan Perkembangan', icon: 'fa-chart-line' },
                { id: 'rencana', label: 'Rencana Pengembangan Diri', icon: 'fa-user-edit' },
                { id: 'divider', label: '', icon: '' },
                { id: 'identitas', label: 'Isi Identitas', icon: 'fa-id-card' },
                { id: 'program', label: 'Program Kerja', icon: 'fa-tasks' },
                { id: 'jadwal', label: 'Jadwal Kegiatan', icon: 'fa-calendar-alt' },
                { id: 'data-murid', label: 'Data Murid', icon: 'fa-users' }
            ]
        };

        let dbMurid = [
            { nama: "Budi Santoso", nis: "12345", kelas: "X-A", guru: "Siti Aminah, S.Pd", tahun: "2023" },
            { nama: "Ani Wijaya", nis: "12346", kelas: "X-A", guru: "Siti Aminah, S.Pd", tahun: "2023" }
        ];

        const app = {
            init: () => {
                app.renderSidebar();
                app.navigate('profil-murid');
            },

            renderSidebar: () => {
                const container = document.getElementById('navLinks');
                container.innerHTML = CONFIG.MENUS.map(m => {
                    if(m.id === 'divider') return `<div class="my-4 border-t border-slate-700/30"></div>`;
                    return `
                        <button onclick="app.navigate('${m.id}')" id="nav-${m.id}" 
                            class="w-full flex items-center gap-3 px-4 py-3 text-[13px] font-medium transition-all text-slate-400 hover:text-white group text-left">
                            <i class="fas ${m.icon} w-5"></i>
                            <span>${m.label}</span>
                        </button>
                    `;
                }).join('');
            },

            navigate: (id) => {
                document.querySelectorAll('#navLinks button').forEach(b => b.classList.remove('nav-item-active'));
                const activeBtn = document.getElementById(`nav-${id}`);
                if(activeBtn) activeBtn.classList.add('nav-item-active');
                app.renderPage(id);
            },

            renderPage: (id) => {
                const area = document.getElementById('contentArea');
                const menu = CONFIG.MENUS.find(m => m.id === id);
                
                let html = `<div class="max-w-3xl mx-auto bg-white p-8 md:p-12 shadow-sm border border-slate-100 rounded-sm print-area min-h-screen">`;
                html += `<div class="border-b-4 border-double border-slate-800 pb-4 mb-8 text-center">`;
                html += `<h1 class="text-2xl font-black text-slate-900 uppercase tracking-widest">${menu.label}</h1>`;
                html += `<p class="text-xs text-slate-500 mt-1 uppercase tracking-widest font-bold">Administrasi Guru Wali Digital</p>`;
                html += `</div>`;
                html += `<form id="mainForm" onsubmit="app.handleSave(event)">`;

                switch(id) {
                    case 'profil-murid': html += app.templateProfilMurid(); break;
                    case 'jurnal': html += app.templateJurnal(); break;
                    case 'laporan': html += app.templateLaporan(); break;
                    case 'rencana': html += app.templateRencana(); break;
                    case 'identitas': html += app.templateIdentitas(); break;
                    case 'program': html += app.templateProgram(); break;
                    case 'jadwal': html += app.templateJadwal(); break;
                    case 'data-murid': html += app.templateDataMurid(); break;
                }

                html += `</form></div>`;
                area.innerHTML = html;
            },

            templateProfilMurid: () => `
                <div class="form-row">
                    <label class="form-label">Nama Lengkap Murid</label>
                    <select name="nama_murid" onchange="app.fillMurid(this.value)" class="form-input-custom" required>
                        <option value="">Pilih Murid...</option>
                        ${dbMurid.map(m => `<option value="${m.nama}">${m.nama}</option>`).join('')}
                    </select>
                </div>
                <div class="form-row"><label class="form-label">NIS / NISN</label><input type="text" id="m_nis" class="form-input-custom form-input-readonly" readonly></div>
                <div class="form-row"><label class="form-label">Kelas</label><input type="text" id="m_kelas" class="form-input-custom form-input-readonly" readonly></div>
                <div class="form-row"><label class="form-label">Nama Guru Wali</label><input type="text" id="m_guru" class="form-input-custom form-input-readonly" readonly></div>
                <div class="form-row"><label class="form-label">Tahun Masuk</label><input type="text" id="m_tahun" class="form-input-custom form-input-readonly" readonly></div>

                <div class="section-title">A. Data Diri & Keluarga</div>
                <div class="form-row"><label class="form-label">Alamat Lengkap</label><textarea name="alamat" class="form-input-custom" rows="2"></textarea></div>
                <div class="form-row"><label class="form-label">No. Telepon / WhatsApp</label><input type="text" name="no_telp" class="form-input-custom"></div>
                <div class="form-row"><label class="form-label">Nama Orang Tua / Wali</label><input type="text" name="nama_ortu" class="form-input-custom"></div>
                <div class="form-row"><label class="form-label">Pekerjaan Orang Tua / Wali</label><input type="text" name="kerja_ortu" class="form-input-custom"></div>

                <div class="section-title">B. Riwayat Akademik</div>
                <div class="form-row"><label class="form-label">Rata-rata Nilai Rapor Sebelumnya</label><input type="text" name="nilai_rapor" class="form-input-custom"></div>
                <div class="form-row"><label class="form-label">Mata Pelajaran yang Disukai</label><input type="text" name="mapel_suka" class="form-input-custom"></div>
                <div class="form-row"><label class="form-label">Mata Pelajaran yang Sulit</label><input type="text" name="mapel_sulit" class="form-input-custom"></div>

                <div class="section-title">C. Minat & Prestasi</div>
                <div class="form-row"><label class="form-label">Hobi</label><input type="text" name="hobi" class="form-input-custom"></div>
                <div class="form-row"><label class="form-label">Ekstrakurikuler</label><input type="text" name="ekskul" class="form-input-custom"></div>
                <div class="form-row"><label class="form-label">Prestasi</label><input type="text" name="prestasi" class="form-input-custom"></div>
            `,

            templateJurnal: () => `
                <div class="form-row">
                    <label class="form-label">Nama Murid</label>
                    <select name="nama_murid" class="form-input-custom" required>
                        <option value="">Pilih Murid...</option>
                        ${dbMurid.map(m => `<option value="${m.nama}">${m.nama}</option>`).join('')}
                    </select>
                </div>
                <div class="form-row"><label class="form-label">Tanggal Pertemuan</label><input type="date" name="tanggal" class="form-input-custom"></div>
                
                <div class="form-row">
                    <label class="form-label">Jenis Pertemuan</label>
                    <div class="flex flex-col gap-2 mt-1">
                        <label class="flex items-center gap-3 text-sm border p-3 rounded-lg"><input type="radio" name="jenis" value="Individu"> Individu</label>
                        <label class="flex items-center gap-3 text-sm border p-3 rounded-lg"><input type="radio" name="jenis" value="Kelompok"> Kelompok</label>
                        <label class="flex items-center gap-3 text-sm border p-3 rounded-lg"><input type="radio" name="jenis" value="Insidental"> Insidental</label>
                    </div>
                </div>

                <div class="form-row">
                    <label class="form-label">Topik Utama</label>
                    <div class="grid grid-cols-1 gap-2 mt-1">
                        <label class="flex items-center gap-3 text-sm"><input type="checkbox" name="topik" value="Akademik"> Akademik</label>
                        <label class="flex items-center gap-3 text-sm"><input type="checkbox" name="topik" value="Kompetensi"> Kompetensi</label>
                        <label class="flex items-center gap-3 text-sm"><input type="checkbox" name="topik" value="Karakter"> Karakter</label>
                    </div>
                </div>

                <div class="form-row"><label class="form-label">Ringkasan Pembahasan</label><textarea name="ringkasan" class="form-input-custom" rows="4"></textarea></div>
                <div class="form-row"><label class="form-label">Tindak Lanjut Murid</label><textarea name="rtl_murid" class="form-input-custom" rows="3"></textarea></div>
                <div class="form-row"><label class="form-label">Tindak Lanjut Guru</label><textarea name="rtl_wali" class="form-input-custom" rows="3"></textarea></div>
            `,

            templateLaporan: () => `
                <div class="form-row">
                    <label class="form-label">Nama Murid</label>
                    <select name="nama_murid" class="form-input-custom" required>
                        <option value="">Pilih Murid...</option>
                        ${dbMurid.map(m => `<option value="${m.nama}">${m.nama}</option>`).join('')}
                    </select>
                </div>
                <div class="form-row">
                    <label class="form-label">Semester</label>
                    <div class="flex gap-4">
                        <label class="flex-1 text-center border p-3 rounded-lg text-sm"><input type="radio" name="periode" value="Ganjil"> Ganjil</label>
                        <label class="flex-1 text-center border p-3 rounded-lg text-sm"><input type="radio" name="periode" value="Genap"> Genap</label>
                    </div>
                </div>
                <div class="form-row"><label class="form-label">Tahun Ajaran</label><input type="text" name="tahun_ajaran" class="form-input-custom" placeholder="2023/2024"></div>

                <div class="section-title">Perkembangan Akademik</div>
                <div class="form-row"><label class="form-label">Pencapaian</label><textarea name="akademik_rangkum" class="form-input-custom" rows="3"></textarea></div>
                <div class="form-row"><label class="form-label">Kendala</label><textarea name="akademik_kendala" class="form-input-custom" rows="3"></textarea></div>

                <div class="section-title">Karakter & Sikap</div>
                <div class="form-row"><label class="form-label">Observasi Positif</label><textarea name="karakter_observasi" class="form-input-custom" rows="3"></textarea></div>
                <div class="form-row"><label class="form-label">Perlu Ditingkatkan</label><textarea name="karakter_poin" class="form-input-custom" rows="3"></textarea></div>
            `,

            templateRencana: () => `
                <div class="form-row">
                    <label class="form-label">Nama Murid</label>
                    <select name="nama_murid" class="form-input-custom" required>
                        <option value="">Pilih Murid...</option>
                        ${dbMurid.map(m => `<option value="${m.nama}">${m.nama}</option>`).join('')}
                    </select>
                </div>

                <div class="section-title">Rencana Target Diri</div>
                <div class="form-row"><label class="form-label">Target Akademik</label><textarea name="t_akademik" class="form-input-custom" rows="2"></textarea></div>
                <div class="form-row"><label class="form-label">Target Bakat / Ekskul</label><textarea name="t_kompetensi" class="form-input-custom" rows="2"></textarea></div>
                <div class="form-row"><label class="form-label">Target Karakter / Kedisiplinan</label><textarea name="t_karakter" class="form-input-custom" rows="2"></textarea></div>

                <div class="mt-12 pt-8 border-t flex justify-between">
                    <div class="text-center w-1/3">
                        <p class="text-xs mb-16">Siswa,</p>
                        <div class="border-b border-slate-900"></div>
                    </div>
                    <div class="text-center w-1/3">
                        <p class="text-xs mb-16">Guru Wali,</p>
                        <div class="border-b border-slate-900"></div>
                    </div>
                </div>
            `,

            templateIdentitas: () => `
                <div class="form-row"><label class="form-label">Nama Lengkap Guru</label><input type="text" name="nama" class="form-input-custom"></div>
                <div class="form-row"><label class="form-label">NIP</label><input type="text" name="nip" class="form-input-custom"></div>
                <div class="form-row"><label class="form-label">Wali Kelas</label><input type="text" name="wali" class="form-input-custom"></div>
            `,

            templateProgram: () => `
                <div class="form-row"><label class="form-label">Pilar Program</label><input type="text" name="pilar" class="form-input-custom"></div>
                <div class="form-row"><label class="form-label">Bentuk Kegiatan</label><textarea name="kegiatan" class="form-input-custom" rows="3"></textarea></div>
                <div class="form-row"><label class="form-label">Indikator Keberhasilan</label><textarea name="indikator" class="form-input-custom" rows="3"></textarea></div>
            `,

            templateJadwal: () => `
                <div class="form-row"><label class="form-label">Waktu / Tanggal</label><input type="text" name="waktu" class="form-input-custom"></div>
                <div class="form-row"><label class="form-label">Kegiatan</label><input type="text" name="keg_nama" class="form-input-custom"></div>
                <div class="form-row"><label class="form-label">Keterangan</label><textarea name="ket" class="form-input-custom" rows="3"></textarea></div>
            `,

            templateDataMurid: () => `
                <div class="form-row"><label class="form-label">Nama Lengkap Murid</label><input type="text" name="nama" class="form-input-custom"></div>
                <div class="form-row"><label class="form-label">NIS / NISN</label><input type="text" name="nis" class="form-input-custom"></div>
                <div class="form-row"><label class="form-label">Kelas</label><input type="text" name="kelas" class="form-input-custom"></div>
                <div class="form-row"><label class="form-label">Nama Guru Wali</label><input type="text" name="guru" class="form-input-custom"></div>
                <div class="form-row"><label class="form-label">Tahun Masuk</label><input type="text" name="tahun" class="form-input-custom"></div>
            `,

            fillMurid: (nama) => {
                const murid = dbMurid.find(m => m.nama === nama);
                if (murid) {
                    document.getElementById('m_nis').value = murid.nis;
                    document.getElementById('m_kelas').value = murid.kelas;
                    document.getElementById('m_guru').value = murid.guru;
                    document.getElementById('m_tahun').value = murid.tahun;
                }
            },

            handleSave: (e) => {
                e.preventDefault();
                alert("Data Berhasil Disimpan!");
            },

            logout: () => { window.location.reload(); }
        };

        window.onload = app.init;
    </script>
</body>
</html>
